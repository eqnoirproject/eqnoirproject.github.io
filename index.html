<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EQNOIR — The Future Belongs to Us</title>
  <meta name="theme-color" content="#0c121a" />
  <style>
    :root{
      --bg:#0b0f14; --panel:#0f1620; --text:#e8eef5; --muted:#9fb2c7;
      --accent:#19f0ff; --up:#22d07a; --down:#ff6b6b; --line:#1c2b3a;
    }
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font:16px/1.45 system-ui,Segoe UI,Roboto,Helvetica,Arial}
    a{color:inherit}

    /* ===== Top Ticker (sticky, flowing) ===== */
    #eq-ticker-bar{
      position: sticky; top:0; z-index: 9999;
      background: linear-gradient(90deg,#0c121a,#0f1620);
      border-bottom: 1px solid var(--line);
      color:#e8eef5; font:14px/1 system-ui,Segoe UI,Roboto,Helvetica,Arial;
    }
    #eq-ticker-bar .eq-track{ overflow:hidden; white-space:nowrap; }
    #eq-ticker-bar .eq-items{
      display:inline-block; padding-block:10px;
      animation: eq-scroll 35s linear infinite;
    }
    #eq-ticker-bar .eq-chip{
      display:inline-flex; align-items:center; gap:8px;
      padding:6px 12px; margin-right:16px;
      border:1px solid var(--line); border-radius:999px;
      background:#0b131b; color:#cfe6ff;
    }
    @keyframes eq-scroll{ 0%{transform:translateX(0)} 100%{transform:translateX(-50%)} }

    /* ===== Hero ===== */
    .hero{
      position: relative; min-height: 92vh;
      background: url('HERO_IMAGE_URL') center/cover no-repeat fixed; /* << replace */
      display:grid; place-items: end center;
    }
    .hero::after{content:""; position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.55) 60%, rgba(0,0,0,.75));
      pointer-events:none;
    }
    .hero-inner{ position:relative; z-index: 1; width:100%; max-width:1100px; padding: 12vh 16px 56px; }

    /* Position button stack roughly beneath “EQNOIR”. Tweak margin-top if needed. */
    .hero-buttons{
      display:flex; flex-direction:column; gap:18px; align-items:center;
      margin-top: clamp(90px, 20vh, 220px);
    }
    .eq-btn{
      background: var(--accent); color:#001018; text-decoration:none; font-weight:800;
      padding:14px 22px; border-radius:14px; letter-spacing:.2px;
      box-shadow: 0 8px 30px rgba(25,240,255,.25), 0 0 0 1px rgba(0,255,255,.30) inset;
      transition: transform .12s ease, box-shadow .2s ease, filter .2s ease;
      width:min(90%, 360px); text-align:center;
    }
    .eq-btn:hover{ transform: translateY(-2px); filter: brightness(1.05); }

    /* ===== Content below hero (optional placeholder) ===== */
    .content{max-width:1000px;margin:40px auto;padding:0 16px}
    .card{
      background:linear-gradient(180deg,var(--panel),#0c121a);
      border:1px solid var(--line); border-radius:14px; padding:20px;
    }

    /* ===== Footer ===== */
    footer{color:var(--muted); font-size:13px; text-align:center; padding:32px 16px}

    /* Utilities */
    .up{color:var(--up)} .down{color:var(--down)}
  </style>
</head>
<body>

  <!-- ===== EQNOIR TOP TICKER ===== -->
  <div id="eq-ticker-bar" role="region" aria-label="EQNOIR live market ticker">
    <div class="eq-track">
      <div class="eq-items" id="eq-items"><span class="eq-chip">Loading EQNOIR…</span></div>
    </div>
  </div>

  <!-- ===== HERO with Buttons under EQNOIR ===== -->
  <section class="hero" role="banner" aria-label="EQNOIR hero">
    <div class="hero-inner">
      <div class="hero-buttons" aria-label="Primary actions">
        <a class="eq-btn" href="/about">About EQNOIR</a>
        <a class="eq-btn" href="/whitepapers">Whitepapers</a>
        <a class="eq-btn" href="/privacy">Privacy Policy</a>
      </div>
    </div>
  </section>

  <!-- ===== Optional area beneath hero (you can delete this block) ===== -->
  <main class="content">
    <div class="card">
      <h2 style="margin-top:0">EQNOIR — The Future Belongs to Us</h2>
      <p>Empowering Black and Black LGBTQIA+ communities through DeFi, STEM, fashion, real estate, and wellness.</p>
      <p><strong>Contract:</strong> <code>0x21cB60543dA121ae3b5473b0A051f3E638E3e69E</code></p>
    </div>
  </main>

  <footer>© <span id="yr"></span> EQNOIR. All rights reserved.</footer>

  <!-- ===== Live Data Script (Dexscreener + optional BscScan) ===== -->
  <script>
    document.getElementById('yr').textContent = new Date().getFullYear();

    /*** CONFIG ***/
    const EQ_CONTRACT = "0x21cB60543dA121ae3b5473b0A051f3E638E3e69E";
    const EQ_CIRC_SUPPLY = 630_000_000_000_000;     // 630T (edit when supply changes)
    const EQ_TOTAL_SUPPLY = 1_000_000_000_000_000;  // for FDV fallback
    const EQ_BSCSCAN_KEY = "";                      // optional (add to show Holders)
    /*** HELPERS ***/
    const usd = n => isFinite(n) ? n.toLocaleString(undefined,{style:"currency",currency:"USD",maximumFractionDigits:6}) : "—";
    const pct = n => (n>=0?"+":"") + (isFinite(n)?n.toFixed(2):"—") + "%";
    const num = n => isFinite(n) ? n.toLocaleString() : "—";

    async function getDex(){
      const r = await fetch(`https://api.dexscreener.com/latest/dex/tokens/${EQ_CONTRACT}`, {cache:"no-store"});
      if(!r.ok) throw new Error("Dexscreener error");
      const j = await r.json();
      const pairs = j.pairs || [];
      if(!pairs.length) throw new Error("No pairs found");
      // choose highest-liquidity pair
      const p = pairs.sort((a,b)=>(b.liquidity?.usd||0)-(a.liquidity?.usd||0))[0];
      return {
        price: Number(p.priceUsd||0),
        chg24: Number(p.priceChange?.h24||0),
        liq: Number(p.liquidity?.usd||0),
        vol24: Number(p.volume?.h24||0),
        fdv: Number(p.fdv||0) || null,
        url: p.url,
        label: (p.dexId||"DEX").toUpperCase()
      };
    }

    async function getHolders(){
      if(!EQ_BSCSCAN_KEY) return null;
      try{
        const r = await fetch(`https://api.bscscan.com/api?module=token&action=tokenholderlist&contractaddress=${EQ_CONTRACT}&page=1&offset=1&apikey=${EQ_BSCSCAN_KEY}`, {cache:"no-store"});
        const j = await r.json();
        const total = j?.result?.holderCount || (j?.result?.[0]?.TokenHolderNumber ? Number(j.result[0].TokenHolderNumber) : null);
        return total || null;
      }catch{return null}
    }

    async function renderTicker(){
      try{
        const [d, holders] = await Promise.all([getDex(), getHolders()]);
        const mcap = d.price * EQ_CIRC_SUPPLY;
        const fdv  = d.fdv || (d.price * EQ_TOTAL_SUPPLY);

        const items = [
          `EQNOIR ${usd(d.price)} (${pct(d.chg24)})`,
          `Market Cap: ${usd(mcap)}`,
          `FDV: ${usd(fdv)}`,
          `Liquidity: ${usd(d.liq)}`,
          `24h Vol: ${usd(d.vol24)}`,
          ...(holders ? [`Holders: ${num(holders)}`] : []),
          `Trade: ${d.label}`
        ];

        const el = document.getElementById("eq-items");
        el.innerHTML = items.map(t => `<span class="eq-chip">${t}</span>`).join("");
        // duplicate once for seamless loop
        el.innerHTML += el.innerHTML;
      }catch(e){
        document.getElementById("eq-items").innerHTML =
          `<span class="eq-chip">EQNOIR: Live data unavailable</span>`;
        console.error(e);
      }
    }
    renderTicker();
    setInterval(renderTicker, 30_000);
  </script>
</body>
</html>
